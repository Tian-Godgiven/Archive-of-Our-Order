# 菜谱记录软件 - 需求文档

## 技术栈
- **框架**: Tauri 2
- **前端**: Vue 3 + TypeScript
- **样式**: Tailwind CSS
- **数据存储**: Tauri Store 插件（JSON 存储）
- **平台**: 移动端应用

---

## 数据模型

### 1. 菜谱（主体）
- 菜名
- 厨师总评
- 最完美的食材列表（从做菜记录中选择）
- 平均难度（从所有做菜记录计算）
- 平均时长（从所有做菜记录计算）

### 2. 做菜记录/心得
每次做菜产生一条记录，包含以下字段（除自动生成字段外，其他都是可选的）：
- 照片（相册，可多张）
- 食材列表
- 制作步骤
- 难度评价（5星）
- 制作时长
- 心得文字内容
- 记录时间（自动生成）
- 第几次做（自动生成）
- 家庭成员评价列表

### 3. 家庭成员评价
评价绑定到做菜记录，每个评价包含：
- 成员名
- 五星评价
- 文字评语（可选）

### 4. 家庭成员
- 成员信息
- 默认家庭组设置

---

## 功能需求

### 1. 菜谱管理
- 创建菜谱（菜名）
- 编辑厨师总评
- 选择最完美的食材列表
- 查看平均难度和平均时长

### 2. 做菜记录管理
- 为菜谱添加做菜记录
- 上传照片（相册系统）
- 记录/更新食材列表
- 记录/更新制作步骤
- 评价难度（5星）
- 记录制作时长
- 编写心得文字
- 所有字段支持反复修改

### 3. 家庭成员评价系统
- 添加家庭成员
- 设置默认家庭组
- 在做菜记录中添加成员评价
  - 默认家庭组成员直接显示，可快速点击评价
  - 支持临时添加新成员
  - 五星评价 + 文字评语（可选）

### 4. 家庭成员评价记录页面
- 按家庭成员维度查看
- 显示每个成员对不同菜品的评价历史
- 查看成员喜欢的菜品

### 5. 时间追踪功能
- 记录每道菜的制作时间
- 显示"多久没做某道菜了"

---

## 导航结构

### 底部Tab栏
- 菜谱（菜谱列表页）
- 我们（评价记录和成员管理）
- 中间的"+"按钮（快速添加弹窗）

---

## 页面详细设计

### 1. 菜谱列表页（RecipeList.vue）
- 显示所有菜谱的卡片列表
- 每个卡片显示：
  - 菜名
  - 平均难度（星级）
  - 平均时长
  - **距离上次做菜的时间（突出显示）**
  - 做过的次数
- 顶部有搜索框
- **排序选项：**
  - 默认排序
  - 按最久没做的菜排序
- 右下角有"添加新菜谱"的按钮
- 点击卡片进入菜谱详情页
- **支持设置"不显示在首页"，隐藏不想做的菜**

### 2. 菜谱详情页（RecipeDetail.vue）
- **支持左右滑动切换到前后菜谱**
- 固定Title栏：菜名 + 右侧"设置"按钮 + 右侧"添加记录"按钮
- 内容区域（可滚动）：
  - 菜谱基本信息区域：
    - 厨师总评（可编辑）
    - 平均难度（星级）
    - 平均时长
    - 做过的次数
    - 距离上次做菜的时间
  - 最完美的食材列表区域：
    - 显示选中的最完美食材列表
    - 如果还没选择，显示"未设置"
    - 可以点击选择（从做菜记录中选择）
  - 做菜记录列表：
    - 按时间倒序显示所有做菜记录
    - 每条记录显示：时间、第几次做、缩略图、简短心得预览
    - 点击进入做菜记录详情页

### 3. 做菜记录详情页（RecordDetail.vue）
- **支持查看模式和编辑模式切换**
- 固定Title栏：
  - 查看模式：第几次做 + 右侧"编辑"按钮
  - 编辑模式：第几次做 + 右侧"保存"按钮
- 内容区域（可滚动）：
  - 记录时间
  - 照片相册区域（可左右滑动，点击全屏查看）
  - 基本信息：难度（星级）、制作时长
  - 食材列表
  - 制作步骤
  - 心得文字
  - 家庭成员评价列表：显示每个成员的名字、星级、评语
- **返回按钮回到菜谱详情页**

### 4. 快速添加弹窗（QuickAdd.vue）
- 从底部Tab栏的"+"按钮触发
- **弹窗形式**，显示两个选项：
  - 创建新菜谱
  - 选择已有菜谱
- 选择后进入对应的页面

### 5. 添加做菜记录页面（RecordEdit.vue）
- 固定Title栏：菜谱名称 + 左侧"返回"按钮 + 右侧"保存"按钮
- 内容区域（可滚动）：
  - 上传照片区域（支持多张，显示缩略图）
  - 食材列表（多行文本框）
  - 制作步骤（多行文本框）
  - 难度评价（5星选择器）
  - 制作时长（输入框，单位：分钟）
  - 心得文字（多行文本框）
  - 家庭成员评价区域：
    - 显示默认家庭组成员列表
    - 每个成员显示：名字 + 5星选择器 + 评语输入框（可选）
    - "添加临时成员"按钮

### 6. "我们"页面（OurPage.vue）
- 固定Title栏："我们" + 右侧"设置"按钮（进入成员管理）
- 主要内容区域（可滚动）：
  - **评价记录展示（主要内容）**
    - 顶部有成员筛选栏（横向滚动的成员头像/名字）
    - 可以选择"全部"或某个具体成员
    - 显示评价记录列表：
      - 每条记录显示：菜名、评价时间、成员名、星级、评语
      - 点击可以跳转到对应的做菜记录详情页

### 7. 成员管理页面（MemberManage.vue）
- 固定Title栏："成员管理" + 左侧"返回"按钮 + 右侧"添加成员"按钮
- 内容区域（可滚动）：
  - 成员列表
  - 可以编辑、删除成员
  - 可以设置默认家庭组
